<%- include('../includes/head.ejs') %>

  </head>
  <body class="edit-password-page">
    <%- include('../includes/mini-header.ejs') %>
    <%- include('../includes/content-header-forms.ejs') %>

    <div class="form-container">

        <% if (reqMethod === 'POST') {
            if (errorMessage) {%> 
                <div class="error-wrapper">
                    <div class="activity__result activity__result-wrong">
                        <%= errorMessage %>
                    </div>
                </div>

            <% } %>
        <% } %>
        <% %>


        <form action="/edit-password" method="POST" id="login-form">
            <input type="hidden" name="userId" value="<%= userId %>">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">

            <div>
                <label for="password">Password:</label>
                <input  class="<%= validationErrors.find(e => e.param === 'password') ? 'invalid' : '' %>"
                 type="password" name="password" id="password" placeholder="Enter your new password"/>
                <% if (validationErrors.find(e => e.param === 'password')) { %><div class="form-error"><span>Incorrect</span> <img src="/images/answer-incorrect-x.svg" alt="Error icon"></div> <% } %>
                 
            </div>

            <div>
                <label for="pw2">Confirm Password:</label>
                <input class="<%= validationErrors.find(e => e.param === 'pw2') ? 'invalid' : '' %>"
                type="password" name="pw2" id="pw2" placeholder="Confirm new password" />
                <% if (validationErrors.find(e => e.param === 'pw2')) { %><div class="form-error"><span>Incorrect</span> <img src="/images/answer-incorrect-x.svg" alt="Error icon"></div> <% } %>
            </div>


            <div>
                <input type="submit" value="Update Password" class="btn btn-color"/>
            </div>
        </form>

    </div>
  </body>
</html>